<!DOCTYPE html>
<html lang="en">
<head>
        <title>Kemeny-Young Optimal Rank Aggregation in Python</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
        <link href="http://vene.ro/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Vlad Niculae (~vene) Atom Feed" />
        <link href="http://vene.ro/feed/all.rss.xml" type="application/rss+xml" rel="alternate" title="Vlad Niculae (~vene) RSS Feed" />
        <link href='http://fonts.googleapis.com/css?family=Averia+Gruesa+Libre|Alegreya:400italic,400,700|Alegreya+SC&subset=latin-ext' rel='stylesheet' type='text/css'>

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://vene.ro/css/ie.css"/>
                <script src="http://vene.ro/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://vene.ro/css/ie6.css"/><![endif]-->
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
      },
      displayAlign: 'left', // Change this to 'center' to center equations.
      "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
      }
    });
    </script>
    <!-- End of mathjax configuration -->

    <script>
    //  We wait for the onload function to load MathJax after the page is completely loaded.
    //  MathJax is loaded 1 unit of time after the page is ready.
    //  This hack prevent problems when you load multiple js files.

    window.onload = function () {
      setTimeout(function () {
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src  = "https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS_HTML";
        document.getElementsByTagName("head")[0].appendChild(script);
      },1)
    }
    </script>

</head>

<body id="index" class="home">
<div id="container">
        <header id="banner" class="body">
                <div id="mainheader">Vlad Niculae (~vene)</div>
                <!--<nav><ul>
                    <li><a href="http://vene.ro/fonts.html">Fonts</a></li>
                    <li><a href="http://vene.ro/papers.html">Publications</a></li>
                    <li><a href="http://vene.ro/privacy.html">Privacy&nbsp;Policy</a></li>
                    <li><a href="http://vene.ro/talks.html">Talks</a></li>
                    <li><a href="http://vene.ro/teaching.html">Teaching</a></li>
                    <li><a href="/publications.html">Publications</a></li>
                    <li><a href="http://vene.ro/blog/">Blog</a></li>
                </ul></nav> -->
        </header><!-- /#banner -->
        <div id="main" role="main">
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="http://vene.ro/blog/kemeny-young-optimal-rank-aggregation-in-python.html" rel="bookmark"
           title="Permalink to Kemeny-Young Optimal Rank Aggregation in Python">Kemeny-Young Optimal Rank Aggregation in&nbsp;Python</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-01-22T18:00:00+01:00">
                Wed 22 January 2014
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="http://vene.ro/blog/author/vene.html">vene</a>
        </address>
<p>In <a href="http://vene.ro/blog/category/python.html">python</a>. </p>
<p>tags: <a href="http://vene.ro/blog/tag/python.html">python</a> <a href="http://vene.ro/blog/tag/rank-aggregation.html">rank aggregation</a> <a href="http://vene.ro/blog/tag/kendall.html">kendall</a> <a href="http://vene.ro/blog/tag/tau.html">tau</a> <a href="http://vene.ro/blog/tag/kemeny.html">kemeny</a> <a href="http://vene.ro/blog/tag/kemeny-young.html">kemeny-young</a> <a href="http://vene.ro/blog/tag/voting-theory.html">voting theory</a> </p>
</footer><!-- /.post-info -->      <style type="text/css">/*!
*
* IPython notebook
*
*/.ansibold{font-weight:700}.ansiblack{}.ansired{color:#8b0000}.ansigreen{6400}.ansiyellow{color:#c4a000}.ansiblue{8b}.ansipurple{color:#9400d3}.ansicyan{color:#4682b4}.ansigray{color:gray}.ansibgblack{background-}.ansibgred{background-color:red}.ansibggreen{background-color:green}.ansibgyellow{background-color:#ff0}.ansibgblue{background-f}.ansibgpurple{background-color:#ff00ff}.ansibgcyan{background-ff}.ansibggray{background-color:gray}div.cell{border:1px solid transparent;display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;border-radius:2px;box-sizing:border-box;-moz-box-sizing:border-box;border-width:thin;border-style:solid;width:100%;padding:5px;margin:0;outline:0}div.cell.selected{border-color:#ababab}@media print{div.cell.selected{border-color:transparent}}.edit_mode div.cell.selected{border-color:green}.prompt{min-width:14ex;padding:.4em;margin:0;font-family:monospace;text-align:right;line-height:1.21429em}div.inner_cell{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}@-moz-document url-prefix(){div.inner_cell{overflow-x:hidden}}div.input_area{border:1px solid #cfcfcf;border-radius:2px;background:#f7f7f7;line-height:1.21429em}div.prompt:empty{padding-top:0;padding-bottom:0}div.unrecognized_cell{padding:5px 5px 5px 0;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}div.unrecognized_cell .inner_cell{border-radius:2px;padding:5px;font-weight:700;color:red;border:1px solid #cfcfcf;background:#eaeaea}div.unrecognized_cell .inner_cell a,div.unrecognized_cell .inner_cell a:hover{color:inherit;text-decoration:none}@media (max-width:540px){.prompt{text-align:left}div.unrecognized_cell>div.prompt{display:none}}div.code_cell{}div.input{page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}@media (max-width:540px){div.input{-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}}div.input_prompt{color:navy;border-top:1px solid transparent}div.input_area>div.highlight{margin:.4em;border:none;padding:0;background-color:transparent}div.input_area>div.highlight>pre{margin:0;border:none;padding:0;background-color:transparent}.CodeMirror{line-height:1.21429em;font-size:14px;height:auto;background:0 0}.CodeMirror-scroll{overflow-y:hidden;overflow-x:auto}.CodeMirror-lines{padding:.4em}.CodeMirror-linenumber{padding:0 8px 0 4px}.CodeMirror-gutters{border-bottom-left-radius:2px;border-top-left-radius:2px}.CodeMirror pre{padding:0;border:0;border-radius:0}.highlight-base,.highlight-variable{}.highlight-variable-2{color:#1a1a1a}.highlight-variable-3{color:#333}.highlight-string{color:#<span class="caps">BA2121</span>}.highlight-comment{color:#408080;font-style:italic}.highlight-number{80}.highlight-atom{color:#88F}.highlight-keyword{color:green;font-weight:700}.highlight-builtin{color:green}.highlight-error{color:red}.highlight-operator{color:#<span class="caps">A2F</span>;font-weight:700}.highlight-meta{color:#<span class="caps">A2F</span>}.highlight-def{f}.highlight-string-2{color:#f50}.highlight-qualifier{color:#555}.highlight-bracket{color:#997}.highlight-tag{color:#170}.highlight-attribute{c}.highlight-header{f}.highlight-quote{90}.highlight-link{c}.cm-s-ipython span.cm-keyword{color:green;font-weight:700}.cm-s-ipython span.cm-atom{color:#88F}.cm-s-ipython span.cm-number{80}.cm-s-ipython span.cm-def{f}.cm-s-ipython span.cm-variable{}.cm-s-ipython span.cm-operator{color:#<span class="caps">A2F</span>;font-weight:700}.cm-s-ipython span.cm-variable-2{color:#1a1a1a}.cm-s-ipython span.cm-variable-3{color:#333}.cm-s-ipython span.cm-comment{color:#408080;font-style:italic}.cm-s-ipython span.cm-string{color:#<span class="caps">BA2121</span>}.cm-s-ipython span.cm-string-2{color:#f50}.cm-s-ipython span.cm-meta{color:#<span class="caps">A2F</span>}.cm-s-ipython span.cm-qualifier{color:#555}.cm-s-ipython span.cm-builtin{color:green}.cm-s-ipython span.cm-bracket{color:#997}.cm-s-ipython span.cm-tag{color:#170}.cm-s-ipython span.cm-attribute{c}.cm-s-ipython span.cm-header{f}.cm-s-ipython span.cm-quote{90}.cm-s-ipython span.cm-link{c}.cm-s-ipython span.cm-error{color:red}.cm-s-ipython span.cm-tab{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=')right no-repeat}div.output_wrapper{display:-webkit-box;-webkit-box-align:stretch;display:-moz-box;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;z-index:1}div.output_scroll{height:24em;width:100%;overflow:auto;border-radius:2px;-webkit-box-shadow:inset 0 2px 8px rgba(0,0,0,.8);box-shadow:inset 0 2px 8px rgba(0,0,0,.8);display:block}div.output_collapsed{margin:0;padding:0;display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}div.out_prompt_overlay{height:100%;padding:0 .4em;position:absolute;border-radius:2px}div.out_prompt_overlay:hover{-webkit-box-shadow:inset 0 0 1px #000;box-shadow:inset 0 0 1px #000;background:rgba(240,240,240,.5)}div.output_prompt{color:#8b0000}div.output_area{padding:0;page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}div.output_area .MathJax_Display{text-align:left!important}div.output_area div.output_area img,div.output_area svg{max-width:100%;height:auto}div.output_area img.unconfined,div.output_area svg.unconfined{max-width:none}.output{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}@media (max-width:540px){div.output_area{-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}}div.output_area pre{margin:0;padding:0;border:0;vertical-align:baseline;background-color:transparent;border-radius:0}div.output_subarea{overflow-x:auto;padding:.4em;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1;max-width:calc(100% - 14ex)}div.output_text{text-align:left;line-height:1.21429em}div.output_stderr{background:#fdd}div.output_latex{text-align:left}div.output_javascript:empty{padding:0}.js-error{color:#8b0000}div.raw_input_container{font-family:monospace;padding-top:5px}span.raw_input_prompt{}input.raw_input{font-family:inherit;font-size:inherit;color:inherit;width:auto;vertical-align:baseline;padding:0 .25em;margin:0 .25em}input.raw_input:focus{box-shadow:none}p.p-space{margin-bottom:10px}div.output_unrecognized{padding:5px;font-weight:700;color:red}div.output_unrecognized a,div.output_unrecognized a:hover{color:inherit;text-decoration:none}.rendered_html{}.rendered_html :link,.rendered_html :visited,.rendered_html h1:first-child{margin-top:.538em}.rendered_html h2:first-child{margin-top:.636em}.rendered_html h3:first-child{margin-top:.777em}.rendered_html h4:first-child,.rendered_html h5:first-child,.rendered_html h6:first-child{margin-top:1em}.rendered_html *+ol,.rendered_html *+ul{margin-top:1em}.rendered_html *+table{margin-top:1em}.rendered_html *+p{margin-top:1em}.rendered_html *+img{margin-top:1em}div.text_cell{display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}@media (max-width:540px){div.text_cell>div.prompt{display:none}}div.text_cell_render{outline:0;resize:none;width:inherit;border-style:none;padding:.5em .5em .5em .4em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}a.anchor-link:link{text-decoration:none;padding:0 20px;visibility:hidden}h1:hover .anchor-link,h2:hover .anchor-link,h3:hover .anchor-link,h4:hover .anchor-link,h5:hover .anchor-link,h6:hover .anchor-link{visibility:visible}.text_cell.rendered .input_area{display:none}.text_cell.rendered .text_cell.unrendered .text_cell_render{display:none}.cm-header-1,.cm-header-2,.cm-header-3,.cm-header-4,.cm-header-5,.cm-header-6{font-weight:700;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.cm-header-1{font-size:185.7%}.cm-header-2{font-size:157.1%}.cm-header-3{font-size:128.6%}.cm-header-4{font-size:110%}.cm-header-5,.cm-header-6{font-size:100%;font-style:italic}</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #<span class="caps">FF0000</span> } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #<span class="caps">BC7A00</span> } /* Comment.Preproc */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #<span class="caps">FF0000</span> } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #<span class="caps">0044DD</span> } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #<span class="caps">BA2121</span> } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #<span class="caps">0000FF</span>; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #<span class="caps">AA22FF</span> } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #<span class="caps">D2413A</span>; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #<span class="caps">0000FF</span> } /* Name.Function */
.highlight .nl { color: #<span class="caps">A0A000</span> } /* Name.Label */
.highlight .nn { color: #<span class="caps">0000FF</span>; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #<span class="caps">AA22FF</span>; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #<span class="caps">BA2121</span> } /* Literal.String.Backtick */
.highlight .sc { color: #<span class="caps">BA2121</span> } /* Literal.String.Char */
.highlight .sd { color: #<span class="caps">BA2121</span>; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #<span class="caps">BA2121</span> } /* Literal.String.Double */
.highlight .se { color: #<span class="caps">BB6622</span>; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #<span class="caps">BA2121</span> } /* Literal.String.Heredoc */
.highlight .si { color: #<span class="caps">BB6688</span>; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #<span class="caps">BB6688</span> } /* Literal.String.Regex */
.highlight .s1 { color: #<span class="caps">BA2121</span> } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Rank aggregation is a problem with many important applications and naive approaches to it go wrong in subtle&nbsp;ways.</p>
<p>Let&#8217;s say that your national Quidditch league is dominated by five major wizard sports newspapers. Yes, the ones with moving images and everything.  Every week after the games, each of them publishes a ranking of the star players.  For now, let&#8217;s suppose that the set of players under investigation is always the same, as the problem becomes a bit more complicated&nbsp;otherwise.</p>
<p><strong>The Athletic Wizard</strong>: Alicia Spinnet, Ginny Weasley, Gwendolyn Morgan, Robin Higgy, Debbie Muntz <br />
<strong>The Daily Prophet</strong>: Alicia, Ginny, Robin, Gwendolyn, Debbie <br />
<strong>Quidditch News</strong>: Robin, Ginny, Gwendolyn, Debbie, Alicia <br />
<strong>Seeker Weekly</strong>: Gwendolyn, Ginny, Robin, Debbie, Alicia <br />
<strong>The Quibbler</strong>: Debbie, Ginny, Robin, Gwendolyn, Alicia <br /></p>
<p>As you can see, there&#8217;s quite a bit of disagreement and personal taste involved. You didn&#8217;t get to watch all of the games, but you&#8217;d like to make a decision on who the best players were, by somehow aggregating the opinions of the popular newspapers.  An easy option would be to pretend that each newspaper <em>votes</em> for the player that they rank #1, and ignore the rest.  As Alicia Spinnet is the only player getting <em>two</em> nominations for best player, she should win best player,&nbsp;right?</p>
<p>Upon closer inspection, Alicia seems very controversial, loved by two but hated by five of the newspaper.  Ginny, on the other hand, didn&#8217;t stand out as best player to anybody, but she was <em>uniformly</em> considered runner-up.  There should be some way to account for this. It would be nice if we would have a method of finding an <em>optimal</em> ranking that maximizes some sort of agreement with the opinions we are trying to&nbsp;aggregate.</p>
<h2 id="Kendall&#x27;s-Tau-distance">Kendall&#8217;s Tau distance<a class="anchor-link" href="#Kendall&#x27;s-Tau-distance">&#182;</a></h2><p>One of the most interesting ways to measure disagreement between rankings is the Tau statistic introduced by Kendall.  It essentially measures the number of pairwise disagreements between two rankings.  Since you can think of it as the number of flips you need to perform on a ranking to turn it into the other, it is sometimes called <em>bubble-sort distance</em>.</p>
<p>While the closely-related Tau correlation coefficient is implemented in Scipy as <a href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kendalltau.html"><code>scipy.stats.kendalltau</code></a>, let&#8217;s code it ourselves in a simpler&nbsp;way.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">print_function</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="k">import</span> <span class="n">combinations</span><span class="p">,</span> <span class="n">permutations</span>

<span class="k">def</span> <span class="nf">kendalltau_dist</span><span class="p">(</span><span class="n">rank_a</span><span class="p">,</span> <span class="n">rank_b</span><span class="p">):</span>
    <span class="n">tau</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">n_candidates</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rank_a</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">combinations</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n_candidates</span><span class="p">),</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">tau</span> <span class="o">+=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">rank_a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">rank_a</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">==</span>
                <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">rank_b</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">rank_b</span><span class="p">[</span><span class="n">j</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">tau</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can represent a rank as a numpy vector, with missing&nbsp;values.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># columns in order of appearance:</span>
<span class="n">cols</span> <span class="o">=</span> <span class="s">&quot;Alicia Ginny Gwendolyn Robin Debbie&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">ranks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
                  <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
                  <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
                  <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
                  <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Two rankings that agree completely should have a distance of&nbsp;0.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">kendalltau_dist</span><span class="p">(</span><span class="n">ranks</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ranks</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[3]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The Athletic Wizard seems to be closer to the Daily Prophet than to Seeker&nbsp;Weekly.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">print</span><span class="p">(</span><span class="s">&#39;d(athletic_wizard, prophet) = {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">kendalltau_dist</span><span class="p">(</span><span class="n">ranks</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ranks</span><span class="p">[</span><span class="mi">1</span><span class="p">])))</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;d(athletic_wizard, seeker) = {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">kendalltau_dist</span><span class="p">(</span><span class="n">ranks</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ranks</span><span class="p">[</span><span class="mi">3</span><span class="p">])))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>d(athletic_wizard, prophet) = 1
d(athletic_wizard, seeker) = 5
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Kemeny-Young-rank-aggregation">Kemeny-Young rank aggregation<a class="anchor-link" href="#Kemeny-Young-rank-aggregation">&#182;</a></h2><p>Now that we have a distance metric, we can formulate a loss function to minimize in rank-space.
We are looking for a ranking $\hat\tau$ that satisfies
$$ \sum_i d(\hat\tau, \tau_i) \leq \sum_i d(\tau, \tau_i) \text{ for all } \tau&nbsp;$$</p>
<p>This aggregation method was proposed by John Kemeny [<a href="#note1">1</a>], and later shown by Peyton Young to be a maximum likelihood estimator of pairwise preferences under the assumption that a voter will randomly flip two candidates from the <em>true</em> ranking is the same $p < 0.5$ [<a href="#note2">2</a>].</p>
<p>For rankings of small length, one way to compute this optimal aggregation is by comparing the scores of all possible rankings, in other words, a <strong>brute-force</strong>&nbsp;approach:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">rankaggr_brute</span><span class="p">(</span><span class="n">ranks</span><span class="p">):</span>
    <span class="n">min_dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span>
    <span class="n">best_rank</span> <span class="o">=</span> <span class="k">None</span>
    <span class="n">n_voters</span><span class="p">,</span> <span class="n">n_candidates</span> <span class="o">=</span> <span class="n">ranks</span><span class="o">.</span><span class="n">shape</span>
    <span class="k">for</span> <span class="n">candidate_rank</span> <span class="ow">in</span> <span class="n">permutations</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n_candidates</span><span class="p">)):</span>
        <span class="n">dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">kendalltau_dist</span><span class="p">(</span><span class="n">candidate_rank</span><span class="p">,</span> <span class="n">rank</span><span class="p">)</span> <span class="k">for</span> <span class="n">rank</span> <span class="ow">in</span> <span class="n">ranks</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dist</span> <span class="o">&lt;</span> <span class="n">min_dist</span><span class="p">:</span>
            <span class="n">min_dist</span> <span class="o">=</span> <span class="n">dist</span>
            <span class="n">best_rank</span> <span class="o">=</span> <span class="n">candidate_rank</span>
    <span class="k">return</span> <span class="n">min_dist</span><span class="p">,</span> <span class="n">best_rank</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">dist</span><span class="p">,</span> <span class="n">aggr</span> <span class="o">=</span> <span class="n">rankaggr_brute</span><span class="p">(</span><span class="n">ranks</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&quot;A Kemeny-Young aggregation with score {} is: {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
    <span class="n">dist</span><span class="p">,</span>
    <span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">aggr</span><span class="p">))))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>A Kemeny-Young aggregation with score 15 is: Ginny, Robin, Gwendolyn, Debbie, Alicia
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Integer-Programming-formulation">Integer Programming formulation<a class="anchor-link" href="#Integer-Programming-formulation">&#182;</a></h2><p>The brute-force approach is, as you can see, simple to understand and quick to code. However, the number of total ranks of size $n$ is $n!$, so this approach quickly becomes infeasible for real-world problems.  Unfortunately, it turns out that this problem (along with many related problems in rank-world) is <span class="caps">NP</span>-hard even for only four voters [<a href="#note3">3</a>]. There have been quite a few approaches and approximations. In many cases, such as search results aggregation, approximations are good enough.  For the cases where an exact solution is required, a formulation as a constrained integer program is given in [<a href="#note4">4</a>].</p>
<p>We build a weighted directed graph $G = (V, E)$ with the candidates as vertices.  The edges are defined as such: for every pair of candidates $i, j$, let $\#\{i > j\}$ denote the number of voters who rank $i$ higher than $j$.  Draw an edge $e$ between each $i, j$ with weight $w_e = |\#\{i > j\} - \#\{j > i\}|$ (if nonzero, of course). The orientation of the edge is from the less preferred to the more preferred&nbsp;node.</p>
<p>The formulation is based on the alternative interpretation of the Kemeny optimal aggregation as the ranking that minimizes the weights of edges it disagrees&nbsp;with:</p>
$$
\operatorname{minimize} \sum_{e \in E} w_e x_e &#92;
\operatorname{subject to} &#92;
\forall i \neq j \in V, x_{ij} + x_{ji} = 1 &#92;
\forall i \neq j \neq k \neq i \in V, x_{ij} + x_{jk} + x_{ki} \geq 1
$$<p>In the above problem, all variables are integer, and effectively binary under the other constraints.  The interpretation is that $x_{ij} = 1$ if, in the aggregated rank, $i$ is ranked lower than&nbsp;$j$.</p>
<p>The constraints essentially impose that the variables define a total order. The first set of constraints enforce antisymmetry and totality: either $i$ is ranked lower than $j$ or the other way around. The second set of constraints enforce&nbsp;transitivity.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">_build_graph</span><span class="p">(</span><span class="n">ranks</span><span class="p">):</span>
    <span class="n">n_voters</span><span class="p">,</span> <span class="n">n_candidates</span> <span class="o">=</span> <span class="n">ranks</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">edge_weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">n_candidates</span><span class="p">,</span> <span class="n">n_candidates</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">combinations</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n_candidates</span><span class="p">),</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">preference</span> <span class="o">=</span> <span class="n">ranks</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">ranks</span><span class="p">[:,</span> <span class="n">j</span><span class="p">]</span>
        <span class="n">h_ij</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">preference</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>  <span class="c"># prefers i to j</span>
        <span class="n">h_ji</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">preference</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>  <span class="c"># prefers j to i</span>
        <span class="k">if</span> <span class="n">h_ij</span> <span class="o">&gt;</span> <span class="n">h_ji</span><span class="p">:</span>
            <span class="n">edge_weights</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">h_ij</span> <span class="o">-</span> <span class="n">h_ji</span>
        <span class="k">elif</span> <span class="n">h_ij</span> <span class="o">&lt;</span> <span class="n">h_ji</span><span class="p">:</span>
            <span class="n">edge_weights</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">h_ji</span> <span class="o">-</span> <span class="n">h_ij</span>
    <span class="k">return</span> <span class="n">edge_weights</span>

<span class="nb">print</span><span class="p">(</span><span class="n">_build_graph</span><span class="p">(</span><span class="n">ranks</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[[ 0.  0.  0.  0.  0.]
 [ 1.  0.  3.  3.  3.]
 [ 1.  0.  0.  0.  3.]
 [ 1.  0.  1.  0.  3.]
 [ 1.  0.  0.  0.  0.]]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, let&#8217;s solve the linear program with the <span class="caps">LGPL</span>-licensed <a href="http://sourceforge.net/projects/lpsolve/"><code>lpsolve</code></a>. It conveniently comes with a Python&nbsp;interface.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">lp_solve</span> <span class="k">import</span> <span class="n">lp_solve</span>

<span class="k">def</span> <span class="nf">rankaggr_lp</span><span class="p">(</span><span class="n">ranks</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Kemeny-Young optimal rank aggregation&quot;&quot;&quot;</span>

    <span class="n">n_voters</span><span class="p">,</span> <span class="n">n_candidates</span> <span class="o">=</span> <span class="n">ranks</span><span class="o">.</span><span class="n">shape</span>
    
    <span class="c"># maximize c.T * x</span>
    <span class="n">edge_weights</span> <span class="o">=</span> <span class="n">_build_graph</span><span class="p">(</span><span class="n">ranks</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">edge_weights</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>  

    <span class="n">idx</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">:</span> <span class="n">n_candidates</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span>

    <span class="c"># constraints for every pair</span>
    <span class="n">pairwise_constraints</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(((</span><span class="n">n_candidates</span> <span class="o">*</span> <span class="p">(</span><span class="n">n_candidates</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
                                     <span class="n">n_candidates</span> <span class="o">**</span> <span class="mi">2</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">row</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">pairwise_constraints</span><span class="p">,</span>
                           <span class="n">combinations</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n_candidates</span><span class="p">),</span> <span class="mi">2</span><span class="p">)):</span>
        <span class="n">row</span><span class="p">[[</span><span class="n">idx</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span> <span class="n">idx</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">)]]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c"># and for every cycle of length 3</span>
    <span class="n">triangle_constraints</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(((</span><span class="n">n_candidates</span> <span class="o">*</span> <span class="p">(</span><span class="n">n_candidates</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span>
                                     <span class="p">(</span><span class="n">n_candidates</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)),</span>
                                     <span class="n">n_candidates</span> <span class="o">**</span> <span class="mi">2</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">row</span><span class="p">,</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">triangle_constraints</span><span class="p">,</span>
                              <span class="n">permutations</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n_candidates</span><span class="p">),</span> <span class="mi">3</span><span class="p">)):</span>
        <span class="n">row</span><span class="p">[[</span><span class="n">idx</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">),</span> <span class="n">idx</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">),</span> <span class="n">idx</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">i</span><span class="p">)]]</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">constraints</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">pairwise_constraints</span><span class="p">,</span> <span class="n">triangle_constraints</span><span class="p">])</span>
    <span class="n">constraint_rhs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pairwise_constraints</span><span class="p">)),</span>
                                <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">triangle_constraints</span><span class="p">))])</span>
    <span class="n">constraint_signs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pairwise_constraints</span><span class="p">)),</span>  <span class="c"># ==</span>
                                  <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">triangle_constraints</span><span class="p">))])</span>  <span class="c"># &gt;=</span>

    <span class="n">obj</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">duals</span> <span class="o">=</span> <span class="n">lp_solve</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">constraints</span><span class="p">,</span> <span class="n">constraint_rhs</span><span class="p">,</span> <span class="n">constraint_signs</span><span class="p">,</span>
                             <span class="n">xint</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">n_candidates</span> <span class="o">**</span> <span class="mi">2</span><span class="p">))</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="n">n_candidates</span><span class="p">,</span> <span class="n">n_candidates</span><span class="p">))</span>
    <span class="n">aggr_rank</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">obj</span><span class="p">,</span> <span class="n">aggr_rank</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">_</span><span class="p">,</span> <span class="n">aggr</span> <span class="o">=</span> <span class="n">rankaggr_lp</span><span class="p">(</span><span class="n">ranks</span><span class="p">)</span>
<span class="n">score</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">kendalltau_dist</span><span class="p">(</span><span class="n">aggr</span><span class="p">,</span> <span class="n">rank</span><span class="p">)</span> <span class="k">for</span> <span class="n">rank</span> <span class="ow">in</span> <span class="n">ranks</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&quot;A Kemeny-Young aggregation with score {} is: {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
    <span class="n">score</span><span class="p">,</span>
    <span class="s">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cols</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">aggr</span><span class="p">))))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>A Kemeny-Young aggregation with score 15 is: Ginny, Robin, Gwendolyn, Debbie, Alicia
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We get the same result as in the brute-force case.  However, it&#8217;s much faster. Let&#8217;s verify this, and in the process, also test that we always get the same&nbsp;result.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">time</span> <span class="k">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">timings</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s">&quot;method rank_len n_ranks time&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">for</span> <span class="n">rank_len</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">n_ranks</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">):</span>
        <span class="n">ranks</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">permutation</span><span class="p">(</span><span class="n">rank_len</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_ranks</span><span class="p">)]</span>
        <span class="n">ranks</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ranks</span><span class="p">)</span>
        <span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
        <span class="n">brute_score</span><span class="p">,</span> <span class="n">brute_aggr</span> <span class="o">=</span> <span class="n">rankaggr_brute</span><span class="p">(</span><span class="n">ranks</span><span class="p">)</span>
        <span class="n">timings</span> <span class="o">=</span> <span class="n">timings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s">&quot;brute&quot;</span><span class="p">,</span>
                                      <span class="n">rank_len</span><span class="o">=</span><span class="n">rank_len</span><span class="p">,</span>
                                      <span class="n">n_ranks</span><span class="o">=</span><span class="n">n_ranks</span><span class="p">,</span>
                                      <span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">t0</span><span class="p">),</span>
                                 <span class="n">ignore_index</span><span class="o">=</span><span class="k">True</span><span class="p">)</span>
        <span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">lp_aggr</span> <span class="o">=</span> <span class="n">rankaggr_lp</span><span class="p">(</span><span class="n">ranks</span><span class="p">)</span>
        <span class="n">timings</span> <span class="o">=</span> <span class="n">timings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s">&quot;lp&quot;</span><span class="p">,</span>
                                      <span class="n">rank_len</span><span class="o">=</span><span class="n">rank_len</span><span class="p">,</span>
                                      <span class="n">n_ranks</span><span class="o">=</span><span class="n">n_ranks</span><span class="p">,</span>
                                      <span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">t0</span><span class="p">),</span>
                                 <span class="n">ignore_index</span><span class="o">=</span><span class="k">True</span><span class="p">)</span>
        <span class="k">assert</span> <span class="p">(</span><span class="n">brute_score</span> <span class="o">==</span>
                <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">kendalltau_dist</span><span class="p">(</span><span class="n">lp_aggr</span><span class="p">,</span> <span class="n">rank</span><span class="p">)</span> <span class="k">for</span> <span class="n">rank</span> <span class="ow">in</span> <span class="n">ranks</span><span class="p">))</span>

<span class="c"># lp is much faster, let&#39;s run it for longer rankings.</span>
<span class="k">for</span> <span class="n">rank_len</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">16</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">n_ranks</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">):</span>
        <span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">lp_aggr</span> <span class="o">=</span> <span class="n">rankaggr_lp</span><span class="p">(</span><span class="n">ranks</span><span class="p">)</span>
        <span class="n">timings</span> <span class="o">=</span> <span class="n">timings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s">&quot;lp&quot;</span><span class="p">,</span>
                                      <span class="n">rank_len</span><span class="o">=</span><span class="n">rank_len</span><span class="p">,</span>
                                      <span class="n">n_ranks</span><span class="o">=</span><span class="n">n_ranks</span><span class="p">,</span>
                                      <span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">t0</span><span class="p">),</span>
                                 <span class="n">ignore_index</span><span class="o">=</span><span class="k">True</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">16</span><span class="p">))</span>
<span class="k">for</span> <span class="n">subplot</span><span class="p">,</span> <span class="n">n_ranks</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">20</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;brute&#39;</span><span class="p">,</span> <span class="s">&#39;lp&#39;</span><span class="p">):</span>
        <span class="n">this_rows</span> <span class="o">=</span> <span class="n">timings</span><span class="p">[(</span><span class="n">timings</span><span class="o">.</span><span class="n">n_ranks</span> <span class="o">==</span> <span class="n">n_ranks</span><span class="p">)</span> <span class="o">&amp;</span>
                            <span class="p">(</span><span class="n">timings</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="n">method</span><span class="p">)]</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">semilogy</span><span class="p">(</span><span class="n">this_rows</span><span class="o">.</span><span class="n">rank_len</span><span class="p">,</span> <span class="n">this_rows</span><span class="o">.</span><span class="n">time</span><span class="p">,</span>
                     <span class="n">label</span><span class="o">=</span><span class="s">&quot;{} n={}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">n_ranks</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">&quot;upper left&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s">&quot;Ranking size vs. log time to solve&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can see that the brute force approach is a bit worse than exponential, while the integer programming approach is more reasonable and also is less sensitive to the number of voters being aggregated.  We therefore have a reasonably fast efficient exact solution to the rank aggregation problem on small&nbsp;datasets.</p>
<h3 id="References">References<a class="anchor-link" href="#References">&#182;</a></h3><p><span id="note1"> [1] J Kemeny. [Mathematics without numbers](http://www.jstor.org/stable/10.2307/20026529), 1959 <br /> </span>
<span id="note2"> [2] <span class="caps">HP</span> Young. [Condorcet&#8217;s theory of voting](http://www.jstor.org/stable/10.2307/1961757), 1988 <br />
</span><span id="note3"> 
[3] <span class="caps">JJ</span> Bartholdi <span class="caps">III</span>, <span class="caps">CA</span> Tovey, <span class="caps">MA</span> Trick. [The computational difficulty of manipulating an election](http://link.springer.com/article/10.1007/<span class="caps">BF00295861</span>), 1989 <br />
</span><span id="note4"> 
[4] V Conitzer, A Davenport, J Kalagnanam. [Improved bounds for computing Kemeny rankings](http://www.aaai.org/Papers/<span class="caps">AAAI</span>/2006/<span class="caps">AAAI06</span>-099.pdf),&nbsp;2006
</span></p>

</div>
</div>
</div>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

    </div><!-- /.entry-content -->
    <div class="comments">
      <h2>Comments !</h2>
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_identifier = "blog/kemeny-young-optimal-rank-aggregation-in-python.html";
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://vene.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
    </div>

  </article>
</section>
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Go <a href="/">home</a>. <a href="/privacy.html">Privacy policy.</a>
                Powered by <a href="http://getpelican.com/">Pelican</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
        </div>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-47024389-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'vene';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</div>
</body>
</html>